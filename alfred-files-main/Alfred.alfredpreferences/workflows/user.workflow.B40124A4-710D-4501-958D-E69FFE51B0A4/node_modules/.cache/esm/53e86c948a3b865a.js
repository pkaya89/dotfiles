"use strict";;let Client;_8a3‍.x([["getPagesFromDatabase",()=>getPagesFromDatabase],["addPageToDatabase",()=>addPageToDatabase],["appendContentToPage",()=>appendContentToPage]]);_8a3‍.w("@notionhq/client",[["Client",["Client"],function(v){Client=v}]]);



const notion = new Client({
  auth: process.env.NOTION_TOKEN,
});

       const getPagesFromDatabase = async (databaseId) => {
  try {
    return await notion.databases.query({
      database_id: databaseId,
    });
  } catch (e) {
    _8a3‍.g.console.error(e);
  }
};

       const addPageToDatabase = async (databaseId, text) => {
  try {
    const response = await notion.request({
      path: "pages",
      method: "POST",
      body: {
        parent: { database_id: databaseId },
        properties: {
          Task: {
            title: [
              {
                text: {
                  content: text,
                },
              },
            ],
          },
        },
      },
    });

    const pageID = response.id.replace(/-/g, "");

    response.pageURL = `https://notion.so/${databaseId}?p=${pageID}`;

    return response;
  } catch (e) {
    _8a3‍.g.console.error(e);
  }
};

       const appendContentToPage = async (pageId, text) => {
  try {
    return await notion.blocks.children.append({
      block_id: pageId,
      children: [
        {
          object: "block",
          type: "paragraph",
          paragraph: {
            text: [
              {
                type: "text",
                text: {
                  content: text,
                },
              },
            ],
          },
        },
      ],
    });
  } catch (e) {
    _8a3‍.g.console.error(e);
  }
};
